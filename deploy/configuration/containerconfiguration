{"commands":{"CMD-PublishLogs":{"stages":[{"name":"PublishLogs","actions":[{"type":"sh","name":"PublishLogs","value":"publishLogs.py --de-dupe --conf-path '/opt/elasticbeanstalk/tasks/publishlogs.d/*' --location-prefix 'resources/environments/logs/publish/' --num-concurrent 2"}]}],"persistent_configuration":"true"},"CMD-ConfigDeploy":{"stages":[{"name":"ConfigDeployStage0","actions":[{"type":"hook","name":"ConfigDeployPreHook","value":"configdeploy/pre"}]},{"name":"ConfigDeployStage1","actions":[{"type":"hook","name":"ConfigDeployEnactHook","value":"configdeploy/enact"},{"type":"hook","name":"ConfigDeployPostHook","value":"configdeploy/post"}]}],"refresh_manifest":"true"},"CMD-SystemTailLogs":{"stages":[{"name":"SystemTailLogs","actions":[{"type":"sh","name":"SystemTailLogs","value":"tailLogs.py --concatenate --conf-path '/opt/elasticbeanstalk/tasks/systemtaillogs.d/*' --location-prefix 'resources/environments/logs/systemtail/'"}]}],"persistent_configuration":"true"},"CMD-TailLogs":{"stages":[{"name":"TailLogs","actions":[{"type":"sh","name":"TailLogs","value":"tailLogs.py --concatenate --conf-path '/opt/elasticbeanstalk/tasks/taillogs.d/*' --location-prefix 'resources/environments/logs/tail/'"}]}],"persistent_configuration":"true"},"CMD-ImmutableDeploymentFlip":{"stages":[{"name":"ImmutableDeploymentFlip","actions":[{"type":"infra","name":"FlipCommandRegistration","value":"infra-reregister-cfn-hup.rb"}]}],"persistent_configuration":"true"},"CMD-RestartAppServer":{"stages":[{"name":"RestartAppServerStage0","actions":[{"type":"hook","name":"RestartAppServerPreHook","value":"restartappserver/pre"}]},{"name":"RestartAppServerStage1","actions":[{"type":"hook","name":"RestartAppServerEnactHook","value":"restartappserver/enact"},{"type":"hook","name":"RestartAppServerPostHook","value":"restartappserver/post"}]}]},"CMD-Startup":{"stages":[{"name":"StartupStage0","actions":[{"type":"infra","name":"HealthdLogRotation","value":"infra-healthd_log_rotation.rb"},{"type":"infra","name":"HealthdHTTPDLogging","value":"infra-healthd_httpd_logging.rb"},{"type":"infra","name":"HealthdNginxLogging","value":"infra-healthd_nginx_logging.rb"},{"type":"infra","name":"EbExtensionPreBuild","value":"infra-embedded_prebuild.rb"},{"type":"hook","name":"AppDeployPreHook","value":"appdeploy/pre"},{"type":"infra","name":"EbExtensionPostBuild","value":"infra-embedded_postbuild.rb"},{"type":"infra","name":"InfraCleanEbExtension","value":"infra-clean_ebextensions_dir.rb"}]},{"name":"StartupStage1","actions":[{"type":"hook","name":"AppDeployEnactHook","value":"appdeploy/enact"},{"type":"hook","name":"AppDeployPostHook","value":"appdeploy/post"},{"type":"hook","name":"PostInitHook","value":"postinit"}]}]},"CMD-AppDeploy":{"stages":[{"name":"AppDeployStage0","actions":[{"type":"infra","name":"DownloadSourceBundle","value":"/opt/elasticbeanstalk/bin/download-source-bundle"},{"type":"infra","name":"EbExtensionPreBuild","value":"infra-embedded_prebuild.rb"},{"type":"hook","name":"AppDeployPreHook","value":"appdeploy/pre"},{"type":"infra","name":"EbExtensionPostBuild","value":"infra-embedded_postbuild.rb"},{"type":"infra","name":"InfraCleanEbextension","value":"infra-clean_ebextensions_dir.rb"}]},{"name":"AppDeployStage1","actions":[{"type":"hook","name":"AppDeployEnactHook","value":"appdeploy/enact"},{"type":"hook","name":"AppDeployPostHook","value":"appdeploy/post"}]}],"refresh_manifest":"true"},"CMD-PreInit":{"stages":[{"name":"PreInitStage0","actions":[{"type":"infra","name":"DownloadSourceBundle","value":"/opt/elasticbeanstalk/bin/download-source-bundle"},{"type":"hook","name":"PreInitHook","value":"preinit"}]}],"refresh_manifest":"true"},"CMD-BundleLogs":{"stages":[{"name":"BundleLogs","actions":[{"type":"sh","name":"BundleLogs","value":"bundleLogs.py --conf-path '/opt/elasticbeanstalk/tasks/bundlelogs.d/*' --location-prefix 'resources/environments/logs/bundle/'"}]}],"persistent_configuration":"true"},"CMD-SelfStartup":{"stages":[{"name":"StartupStage0","actions":[{"type":"infra","name":"HealthdLogRotation","value":"infra-healthd_log_rotation.rb"},{"type":"infra","name":"HealthdHTTPDLogging","value":"infra-healthd_httpd_logging.rb"},{"type":"infra","name":"HealthdNginxLogging","value":"infra-healthd_nginx_logging.rb"},{"type":"infra","name":"EbExtensionPreBuild","value":"infra-embedded_prebuild.rb"},{"type":"hook","name":"AppDeployPreHook","value":"appdeploy/pre"},{"type":"infra","name":"EbExtensionPostBuild","value":"infra-embedded_postbuild.rb"},{"type":"infra","name":"InfraCleanEbextension","value":"infra-clean_ebextensions_dir.rb"}]},{"name":"StartupStage1","actions":[{"type":"hook","name":"AppDeployEnactHook","value":"appdeploy/enact"},{"type":"hook","name":"AppDeployPostHook","value":"appdeploy/post"},{"type":"hook","name":"PostInitHook","value":"postinit"}]}]}},"optionsettings":{"aws:elasticbeanstalk:container:php:phpini":{"memory_limit":"256M","max_execution_time":"60","display_errors":"Off","composer_options":"","allow_url_fopen":"On","zlib_output_compression":"Off","document_root":""},"aws:elasticbeanstalk:hostmanager":{"LogPublicationControl":"false"},"aws:elasticbeanstalk:application:environment":[""]},"container":{"app_staging_dir":"/var/app/ondeck","instance_port":"80","http_port":"80","php_version":"7.0","app_support_dir":"/var/app/support","app_pids_dir":"/var/app/support/pids","default_log_list":["/var/log/httpd/error_log","/var/log/httpd/access_log"],"config_staging_dir":"/tmp","source_bundle":"/opt/elasticbeanstalk/deploy/appsource/source_bundle","app_deploy_dir":"/var/app/current","common_log_list":["/var/log/eb-activity.log"],"log_group_name_prefix":"/aws/elasticbeanstalk","app_assets_dir":"/var/app/support/assets","app_logs_dir":"/var/app/support/logs","app_user":"webapp","app_base_dir":"/var/app"},"system":{"LogPublicationControl":"false","AWSEBAgentId":"","AWSEBReferrerId":""}}